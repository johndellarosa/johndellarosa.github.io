<!DOCTYPE html>
<html lang="en-US">
    <head>

        <meta charset="UTF-8">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2C44LTKBE1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2C44LTKBE1');
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> -->
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
            <title>Compound Poisson Distributions</title>
    
        <!-- Meta tags -->
        
        <meta name="keywords" content="Compound distribution">
        <meta name="author" content="John Della Rosa" >
        <meta name="description" content="Introduction to compound Poisson distributions.">
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <link rel="apple-touch-icon" sizes="180x180" href="https://johndellarosa.github.io/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://johndellarosa.github.io/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://johndellarosa.github.io/favicon-16x16.png">
        <link rel="manifest" href="https://johndellarosa.github.io/site.webmanifest">
        <link rel="canonical" href="https://johndellarosa.github.io/projects/distribution-book/compound-poisson"/>    
        <link rel="stylesheet" href="https://johndellarosa.github.io/style.css"> 
<!-- 
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
      

        <script src="../../math.js" type="text/javascript"></script> -->
        <style>
            body {
              font-family: Arial, sans-serif;
              /* background-color: #f5f5f5; */
            }
            
            .container {
              max-width: 1800px;
              width:100%;
              margin: 50px auto;
              padding: 20px;
              background-color: white;
              border-radius: 8px;
              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
              display: flex;
              flex-direction: column;
              align-items: center;
            }
            
            .input-section, .output-section {
              width: 100%;
              display: flex;
              flex-direction: column;
              align-items: center;
            }
            
            .input-group, #dataPointsList {
              width: 100%;
              margin-bottom: 20px;
              max-width: 500px;
              margin: 0% auto;
              align-items: center;
            }
            
            #dataPointsList button {
                padding:15px;
                margin: 5px;
                background-color: #6CB4EE;
                border-radius: 10px;
            }
            
            #dataPointsList button:hover{
            
              background-color: #6699CC
            
            }
            
            .input-group label {
              display: block;
              font-weight: bold;
              margin-bottom: 5px;
            }
            
            .input-group input, .input-group select, #discreteParams input {
              width: 100%;
              padding: 8px;
              font-size: 14px;
              margin-bottom: 5px;
              border: 1px solid #ccc;
              border-radius: 4px;
            
            }
            
            button {
              padding: 10px 20px;
              font-size: 16px;
              background-color: #28a745;
              color: white;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              transition: background-color 0.3s ease;
            
            }
            
            button:hover {
              background-color: #218838;
            }
            
            input, select {
                margin-bottom:10px;
            }
            
            #compoundChart {
              max-width: 900px;
              /* width:100%; */
            width: 80vw;
            max-height: 50vh;
              /* height: 20%; */
              /* height: 600px; */
              /* max-height: 1000px; */
            }
            
            .output-section {
              display: none;
              width: 100%;
              text-align: center;
            }
            
            h2 {
              margin-bottom: 20px;
            }
            
            h1 {
              text-align: center;
            }
            
            /* Smaller screens (e.g., smartphones) */
            @media (max-width: 600px) {
                .container {
                    width: 100%;
                    padding: 10px;
                }
                .data-point-button {
                    padding: 8px; /* Larger touch targets */
                }
                input[type="number"], input[type="range"] {
                    width: 95%; /* Full width inputs for easier access */
                }
            }
            
            </style>
    </head>
    <body>
        <div class="navbar">
            <b style="margin-right:10px">John Della Rosa</b>| 
            <a href="https://johndellarosa.github.io/">Home</a>|
            <a href="https://johndellarosa.github.io/resume">Resume</a>|
            <a href="https://johndellarosa.github.io/biography">About</a>|
            <a href="https://johndellarosa.github.io/projects">Projects</a>|
            <a href="https://johndellarosa.github.io/miscellaneous">Misc</a>|
            <a href="https://www.linkedin.com/in/johndellarosa/" target="_blank">Linkedin</a>|
            <a href="https://github.com/johndellarosa" target="_blank">Github</a>|
            <a href="https://play.google.com/store/apps/developer?id=JohnDellaRosa" target="_blank">Google Play</a>|
            <a href="https://apps.apple.com/us/developer/john-della-rosa/id1684177615" target="_blank">Apple Store</a>
        
        </div>
        <h2><a href= "table-of-contents.html">Distribution Textbook (Work in Progress)</a></h2>

<h3>by John Della Rosa</h3>
        <div id="text-contents" style="width:90%; margin:auto">
            <div id="Compound-Poisson-Explanation">
                <h1>Compound Poisson Distributions</h1>
                <h2>Introduction to Compound Poisson Distributions</h2>
                
                <h3>Recommended Prerequesites</h3>
                <ol>
                    <li><a href="https://johndellarosa.github.io/projects/biophysics-book/probability">Probability</a></li>
                    <li><a href="probability-2.html">Probability 2</a></li>
                    <li><a href="./mle.html">Maximum Likelihood Estimation</a></li>
                    <li><a href="./method-of-moments.html">Method of Moments</a></li>
                    


                </ol>

                <h3>Introduction</h3>
                In previous chapters, we explored both mixture and compound distributions, which allow for modeling variability in the parameters or outcomes of random processes. Mixture distributions arise when data is generated from one of several possible distributions, with each distribution selected according to a mixing probability. Compound distributions, on the other hand, result from random variables whose parameters are themselves random, introducing an additional layer of complexity in describing stochastic processes.
                <br><br>
                A particularly important class of compound distributions, which we turn our focus to now, is the Compound Poisson distribution. This distribution is widely applicable in scenarios where the number of events occurring in a fixed period is uncertain and follows a Poisson distribution, and the outcome of each event is itself random.



                <h3>Definition</h3>
                Let \(N\) be a Poisson-distributed random variable with parameter \(\lambda\gt 0\), representing the number of events that occur in a fixed interval. 
                Assume that each event generates a random variable \(X_i\) from some iid sequence \(\left\{X_i\right\}\) with a common distribution function \(F_X(x)\) and mean \(\mu_X=\mathbb{E}[X]\). The Compound Poisson random variable S is defined as the sum of the N random variables: 

                $$S=\sum_{i=1}^NX_i$$

                If N=0, then we define S=0. The distribution of S is called a Compound Poisson distribution. 

                

                <br>

                <h3>Wald's Equation</h3>
                A powerful and satisfying equation is Wald's equation/identity/lemma, which relates the expectation of a sum of iid variables where the number of summands is also a random variable which is independent from the summed variables. 

                Let \(x_1,x_2,\dots,x_n\) be iid random variables. Let n be a random variable. If both have finite expectations, then 

                $$\mathbb{E}[\sum_{i=1}^nx_i]=\mathbb{E}[N]\mathbb{E}[X]$$

                <h3>Variance</h3>
                $$\text{Var}(S)=\lambda(\sigma_X^2+\mu_X^2)$$
                where \(\mu_X^2\) and \(\sigma_X^2\) are the mean and variance of indivdual event sizes respectively. 

                <h3>Special Cases</h3>
                
                <h4>X is Expoentially Distributed</h4>
                If \(X_i\) follow an exponential distribution with rate \(\theta\) then S follows a Gamma distribution with shape parameter \(\lambda\) and rate \(\theta\). 

                <h4>X is a constant</h4>
                If \(X_i=c\), then \(S\sim c\times N\).


                <h3>Estimation of Parameters</h3>

                For a Compound Poisson distribution, you now have the rate parameter from the Poisson distribution, as well as the parameter(s) for X. This can prove to make estimation tricky. 

                
                <h4>MLE</h4>
                The likelihood function for a compound Poisson would be given by

                $$L(\lambda,\theta;S_1,\dots,S_n)=\prod_{i=1}^{n}P(S_i|\lambda, \theta)$$

                where \(P(S_i|\lambda,\theta)\) is the probability mass function (or pdf if X is continuous) for the Compound Poisson distribution. 
                <br><br>
                In practice, this is difficult since there may be mutliple ways to get a given value of s. Compound Poisson PMFs or PDFs are often written as infinite sums

                <h4>Method of Moments</h4>
                Another parameter estimation method we talked about in a previous chapter is <a href="./method-of-moments.html">the method of moments</a>. 

                The first two moments of the Compound Distribution are:

                $$\mathbb{E}[S]=\lambda\mu_X$$
                $$\text{Var}(S)=\lambda(\sigma_X^2+\mu_X^2)$$

                Given a sample \(S_1,S_2,\dots,S_n\) the sample mean \(\hat{\mu}_S\) and sample variance \(\hat{\sigma}_S^2\) can be calculated as:

                $$\hat{\mu}_S=\frac{1}{n}\sum_{i=1}^nS_i$$
                $$\hat{\sigma}_S^2=\frac{1}{n}\sum_{i=1}^n(S_i-\hat{\mu}_S)^2$$



                </div>


                <div class="container">
                    <h2>Compound Poisson Distribution Generator</h2>
            
                    <!-- Discrete Distribution Selection -->
                    <div class="input-group">
                        <h3>Discrete Distribution</h3>
                        <label for="discreteType">Select Discrete Distribution:</label>
                        <select id="discreteType">
                            <option value="poisson">Poisson</option>
                            <option value="binomial">Binomial</option>
                        </select>
                        <div id="discreteParams">
                            <!-- Parameters for discrete distribution will go here -->
                        </div>
                    </div>
            
                    <!-- Secondary Distribution Selection -->
                    <div class="input-group">
                        <h3>Secondary Distribution</h3>
                        <label for="secondaryType">Select Secondary Distribution:</label>
                        <select id="secondaryType" >
                            <option value="normal">Normal</option>
                            <option value="exponential">Exponential</option>
                            <option value="uniform">Uniform</option>
                        </select>
                        <div id="secondaryParams">
                            <!-- Parameters for secondary distribution will go here -->
                        </div>
                    </div>
            
                    <button id="generate-button" >Generate Compound Distribution</button>
            
                    <canvas id="compoundChart" width="600" height="400"></canvas>
                
                    <div id="summaryStats">
                      <h3>Summary Statistics</h3>
                      <p><strong>Mean:</strong> <span id="meanStat"></span></p>
                      <p><strong>Variance:</strong> <span id="varianceStat"></span></p>
                      <p><strong>Standard Deviation:</strong> <span id="stdDevStat"></span></p>
                      <p><strong>Min:</strong> <span id="minStat"></span></p>
                      <p><strong>Max:</strong> <span id="maxStat"></span></p>
                      <p><strong>Skewness:</strong> <span id="skewnessStat"></span></p>
                      <p><strong>Kurtosis:</strong> <span id="kurtosisStat"></span></p>
                  </div>

                  <button id="export-data">Export Data</button>
                  </div>
             




                <div id="Exercises">
                    <h2>Compound Poisson Distribution Practice Problems</h2>
                    <ol>
                        
                        </ol>
    
    
                </div>
        </div>
        <script src="./compound-poisson-funcs.js"></script>
        <script>
            var coll = document.getElementsByClassName("collapsible");
            var i;
    
            for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                content.style.display = "none";
                } else {
                content.style.display = "block";
                }
            });
            } 
            </script>
</body>
</html>